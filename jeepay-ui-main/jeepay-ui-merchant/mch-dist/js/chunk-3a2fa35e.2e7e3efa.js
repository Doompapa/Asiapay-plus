(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a2fa35e","chunk-44d26574"],{"0fea":function(t,e,a){"use strict";a.d(e,"z",(function(){return s})),a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return r})),a.d(e,"j",(function(){return o})),a.d(e,"k",(function(){return c})),a.d(e,"l",(function(){return l})),a.d(e,"b",(function(){return u})),a.d(e,"a",(function(){return d})),a.d(e,"i",(function(){return p})),a.d(e,"g",(function(){return h})),a.d(e,"e",(function(){return m})),a.d(e,"h",(function(){return f})),a.d(e,"f",(function(){return v})),a.d(e,"D",(function(){return y})),a.d(e,"s",(function(){return b})),a.d(e,"r",(function(){return g})),a.d(e,"w",(function(){return C})),a.d(e,"x",(function(){return S})),a.d(e,"C",(function(){return w})),a.d(e,"B",(function(){return _})),a.d(e,"t",(function(){return x})),a.d(e,"u",(function(){return k})),a.d(e,"y",(function(){return D})),a.d(e,"o",(function(){return T})),a.d(e,"m",(function(){return I})),a.d(e,"q",(function(){return F})),a.d(e,"v",(function(){return q})),a.d(e,"A",(function(){return O})),a.d(e,"p",(function(){return E})),a.d(e,"n",(function(){return P}));a("2ca0"),a("ac1f"),a("5319");var n=a("4667"),s={list:function(t,e){return n["a"].request({url:t,method:"GET",params:e},!0,!0,!1)},add:function(t,e){return n["a"].request({url:t,method:"POST",data:e},!0,!0,!1)},getById:function(t,e){return n["a"].request({url:t+"/"+e,method:"GET"},!0,!0,!1)},updateById:function(t,e,a){return n["a"].request({url:t+"/"+e,method:"PUT",data:a},!0,!0,!1)},delById:function(t,e){return n["a"].request({url:t+"/"+e,method:"DELETE"},!0,!0,!1)}},i="api/mainChart",r="/api/mchApps",o="/api/payOrder",c="/api/refundOrder",l="/api/transferOrders",u="/api/divisionReceiverGroups",d="/api/divisionReceivers",p="/api/division/records",h="/api/mchHistory",m="/api/mchDayStat",f="/api/mchInfo",v="/api/mchDivision",y={avatar:n["a"].baseUrl+"/api/ossFiles/avatar",cert:n["a"].baseUrl+"/api/ossFiles/cert"};function b(){return n["a"].request({url:i+"/twoDayCount",method:"GET"})}function g(){return n["a"].request({url:i+"/mchInfo",method:"GET"})}function C(t){return n["a"].request({url:"api/paytest/payways/"+t,method:"GET"})}function S(t){return n["a"].request({url:"/api/paytest/payOrders",method:"POST",data:t})}function w(t){return n["a"].request({url:"/api/current/modifyPwd",method:"put",data:t})}function _(t){return n["a"].request({url:"/api/current/user",method:"put",data:t})}function x(){return n["a"].request({url:"/api/current/user",method:"get"})}function k(){var t=document.location.protocol+"//"+document.location.host;return t="http://mch-api.bainian-pay.com",t.startsWith("https:")?"wss://"+t.replace("https://",""):"ws://"+t.replace("http://","")}function D(t){return n["a"].request({url:"api/mchTransfers/ifCodes/"+t,method:"GET"})}function T(t,e,a){return n["a"].request({url:"/api/mchTransfers/channelUserId",method:"GET",params:{ifCode:t,appId:e,extParam:a}})}function I(t){return n["a"].request({url:"/api/mchTransfers/doTransfer",method:"POST",data:t},!0,!0,!0)}function F(t){return n["a"].request({url:"/api/mch/payConfigs/ifCodes/"+t,method:"GET"},!0,!0,!0)}function q(t,e,a){return n["a"].request({url:"/api/payOrder/refunds/"+t,method:"POST",data:{refundAmount:e,refundReason:a}})}function O(t){return n["a"].request({url:"/api/division/records/resend/"+t,method:"POST"})}function E(){return n["a"].request({url:"/api/current/getGoogleKey",method:"get"})}function P(t,e){return n["a"].request({url:t,method:"POST",data:e,responseType:"arraybuffer"},!0,!1,!0)}},"1b3c":function(t,e,a){},"27fc":function(t,e,a){},"28c1":function(t,e,a){t.exports=a.p+"assets/empty.ac4a76d7.svg"},"2f3a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"chart-card"}},[a("div",{staticClass:"chart-top"},[a("div",{staticClass:"chart-item top-left"},[a("div",{staticClass:"chart-data",staticStyle:{position:"relative"}},[t.skeletonIsShow?a("a-skeleton",{staticStyle:{padding:"20px"},attrs:{active:"",loading:!0,paragraph:{rows:6}}}):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.skeletonIsShow,expression:"!skeletonIsShow"}]},[t._m(0),a("div",[a("div",{staticClass:"pay-amount-text"},[a("b",{staticClass:"pay-amount"},[t._v(" "+t._s((t.mainChart.todayCount.totalSuccessAmount/100).toFixed(2)))])])]),a("div",{staticClass:"payAmountSpan"},[a("span",[t._v("昨日成交金额： "+t._s((t.mainChart.yesterdayCount.totalSuccessAmount/100).toFixed(2)))])])])],1)]),a("div",{staticClass:"chart-item top-left",staticStyle:{width:"250px"}},[a("div",{staticClass:"chart-data",staticStyle:{position:"relative"}},[t.skeletonIsShow?a("a-skeleton",{staticStyle:{padding:"20px"},attrs:{active:"",loading:!0,paragraph:{rows:6}}}):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.skeletonIsShow,expression:"!skeletonIsShow"}]},[t._m(1),a("div",[a("div",{staticClass:"pay-amount-text"},[a("b",{staticClass:"pay-amount"},[t._v(t._s(t.mainChart.todayCount.orderSuccessCount))])])]),a("div",{staticClass:"payAmountSpan"},[a("span",[t._v("昨日成交订单数："+t._s(t.mainChart.yesterdayCount.orderSuccessCount))])])])],1)]),a("div",{staticClass:"chart-item top-left",staticStyle:{width:"250px"}},[a("div",{staticClass:"chart-data",staticStyle:{position:"relative"}},[t.skeletonIsShow?a("a-skeleton",{staticStyle:{padding:"20px"},attrs:{active:"",loading:!0,paragraph:{rows:6}}}):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.skeletonIsShow,expression:"!skeletonIsShow"}]},[t._m(2),a("div",[a("div",{staticClass:"pay-amount-text"},[a("span",{staticClass:"pay-amount"},[t._v(t._s((t.mainChart.todayCount.totalMchCost/100).toFixed(2)))])])]),a("div",{staticClass:"payAmountSpan"},[a("span",[t._v("昨日服务费："+t._s((t.mainChart.yesterdayCount.totalMchCost/100).toFixed(2)))])])])],1)]),a("div",{staticClass:"top-middle"},[a("div",{staticClass:"middle-top"},[a("div",{staticClass:"chart-item middle-larger"},[a("div",{staticClass:"chart-data"},[a("a-skeleton",{attrs:{active:"",loading:t.skeletonIsShow,paragraph:{rows:1}}},[a("div",{staticClass:"analy-title"},[a("span",[t._v("今日成功率")])]),a("a-card",{attrs:{bordered:!1}},[a("a-statistic",{staticStyle:{"margin-top":"10px","font-weight":"bold"},attrs:{value:(100*t.mainChart.todaySuccessRate).toFixed(2)+"%"}})],1)],1)],1)]),a("div",{staticClass:"chart-item middle-larger"},[a("div",{staticClass:"chart-data"},[a("a-skeleton",{attrs:{active:"",loading:t.skeletonIsShow,paragraph:{rows:1}}},[a("div",{staticClass:"analy-title"},[a("span",[t._v("今日订单量")])]),a("a-card",{attrs:{bordered:!1}},[a("a-statistic",{staticStyle:{"margin-top":"10px"},attrs:{value:t.mainChart.todayCount.totalOrderCount}})],1)],1)],1)])]),a("div",{staticClass:"middle-bottom"},[a("div",{staticClass:"chart-item middle-larger"},[a("div",{staticClass:"chart-data"},[a("a-skeleton",{attrs:{active:"",loading:t.skeletonIsShow,paragraph:{rows:1}}},[a("div",{staticClass:"analy-title"},[a("span",[t._v("昨日成功率")])]),a("a-card",{attrs:{bordered:!1}},[a("a-statistic",{staticStyle:{"margin-top":"10px"},attrs:{value:(100*t.mainChart.yesterdaySuccessRate).toFixed(2)+"%"}})],1)],1)],1)]),a("div",{staticClass:"chart-item middle-larger"},[a("div",{staticClass:"chart-data"},[a("a-skeleton",{attrs:{active:"",loading:t.skeletonIsShow,paragraph:{rows:1}}},[a("div",{staticClass:"analy-title"},[a("span",[t._v("昨日订单量")])]),a("a-card",{attrs:{bordered:!1}},[a("a-statistic",{staticStyle:{"margin-top":"10px"},attrs:{value:t.mainChart.yesterdayCount.totalOrderCount}})],1)],1)],1)])])])]),a("div",{staticClass:"chart-bottom"},[a("div",{staticClass:"chart-item bottom-left"},[a("div",{staticClass:"chart-data"},[a("a-skeleton",{attrs:{active:"",loading:t.skeletonIsShow,paragraph:{rows:6}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.skeletonIsShow,expression:"!skeletonIsShow"}]},[a("div",[t._m(3),a("a-radio-group",{attrs:{"button-style":"solid"},on:{change:t.selectTab},model:{value:t.tableDate,callback:function(e){t.tableDate=e},expression:"tableDate"}},[a("a-radio-button",{attrs:{value:"1"}},[t._v("今日")]),a("a-radio-button",{attrs:{value:"2"}},[t._v("昨日")])],1),a("div",{staticStyle:{"margin-top":"12px"}},[a("JeepayTable",{ref:"infoTable",attrs:{initData:!1,reqTableDataFunc:t.reqTableDataFunc,tableColumns:t.tableColumns,pageSize:10,searchData:t.searchData,rowKey:"productId"},on:{btnLoadClose:function(e){t.btnLoading=!1}},scopedSlots:t._u([{key:"nameSlot",fn:function(e){var n=e.record;return[a("b",[t._v("["+t._s(n.productId)+"]")]),t._v(" "),a("span",[t._v(t._s(n.productName))])]}},{key:"stateSlot",fn:function(e){var n=e.record;return[a("b",[t._v(t._s((n.orderSuccessCount/n.totalOrderCount*100).toFixed(2))+"%")])]}},{key:"balanceSlot",fn:function(e){var n=e.record;return[t._v("   "),a("b",{staticStyle:{color:"#4BD884"}},[t._v(t._s((n.totalSuccessAmount/100).toFixed(2)))])]}},{key:"feeSlot",fn:function(e){var n=e.record;return[a("span",[t._v(t._s((n.totalCost/100).toFixed(2)))])]}}])})],1)],1)])],1)]),a("div",{staticClass:"chart-item bottom-right"},[a("div",{staticClass:"chart-data"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.skeletonIsShow,expression:"!skeletonIsShow"}]},[t._m(4),[a("div",{staticStyle:{"max-width":"500px",width:"500px","min-width":"500px",height:"500px"},attrs:{id:"chartContainer"}},[a("a-row",{attrs:{justify:"space-between",type:"flex"}},[a("a-col",{attrs:{sm:12}},[a("a-descriptions",[a("a-descriptions-item",{attrs:{label:"商户号"}},[a("b",[t._v(t._s(t.detailData.mchInfo.mchNo))])])],1)],1),a("a-col",{attrs:{sm:12}},[a("a-descriptions",[a("a-descriptions-item",{attrs:{label:"商户名称"}},[t._v(" "+t._s(t.detailData.mchInfo.mchName)+" ")])],1)],1),a("a-col",{attrs:{sm:24}},[a("a-descriptions",[a("a-descriptions-item",{attrs:{label:"登录名"}},[a("b",[t._v(" "+t._s(t.detailData.mchInfo.loginUsername))])])],1)],1),a("a-col",{attrs:{sm:24}},[a("a-descriptions",[a("a-descriptions-item",{attrs:{label:"商户密钥"}},[a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"eye",size:"small",type:"primary"},on:{click:t.handleView}},[t._v("点击查看")])],1)],1)],1),a("a-col",{attrs:{sm:12}},[a("a-descriptions",[a("a-descriptions-item",{attrs:{label:"当前余额"}},[a("b",{staticStyle:{color:"#4BD884"}},[t._v(t._s((t.detailData.mchInfo.balance/100).toFixed(2)))])])],1)],1),a("a-col",{attrs:{sm:12}},[a("a-descriptions",[a("a-descriptions-item",{attrs:{label:"商户状态"}},[a("a-badge",{attrs:{status:0===t.detailData.mchInfo.state?"error":"processing",text:0===t.detailData.mchInfo.state?"禁用":"启用"}})],1)],1)],1),a("a-col",{attrs:{sm:24}},[a("a-descriptions",[a("a-descriptions-item",{attrs:{label:"商户创建时间"}},[t._v(" "+t._s(t.detailData.mchInfo.createdAt)+" ")])],1)],1),a("a-divider")],1)],1)],a("div")],2)])])]),[a("a-modal",{attrs:{title:"商户密钥"},on:{ok:t.handleSecretOkFunc},model:{value:t.isShowSecretModal,callback:function(e){t.isShowSecretModal=e},expression:"isShowSecretModal"}},[a("b",[t._v(t._s(t.detailData.mchInfo.secret))])])]],2)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"analy-title",staticStyle:{padding:"20px","box-sizing":"border-box","padding-bottom":"10px"}},[a("span",[t._v("今日成交金额")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"analy-title",staticStyle:{padding:"20px","box-sizing":"border-box","padding-bottom":"10px"}},[a("span",[t._v("今日成交订单数")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"analy-title",staticStyle:{padding:"20px","box-sizing":"border-box","padding-bottom":"10px"}},[a("span",[t._v("今日服务费")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pay-count-title"},[a("span",{staticClass:"chart-title"},[t._v("支付产品统计")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pay-count-title"},[a("span",{staticClass:"chart-title",staticStyle:{"font-weight":"bold"}},[t._v("商户信息")])])}],i=a("c1df"),r=a.n(i),o=a("0fea"),c=a("ca00"),l=a("909f"),u=a("5d5e"),d=a("f339"),p=[{key:"name",fixed:"left",width:"200px",title:"产品ID/名称",scopedSlots:{customRender:"nameSlot"}},{key:"balance",title:"成交额(￥)",width:100,scopedSlots:{customRender:"balanceSlot"},fixed:"left"},{key:"totalCount",title:"总单量",width:"100px",dataIndex:"totalOrderCount"},{key:"successCount",title:"成交单量",width:"100px",dataIndex:"orderSuccessCount"},{key:"state",title:"成功率",width:"100px",scopedSlots:{customRender:"stateSlot"}},{key:"fee",title:"服务费(￥)",width:"100px",scopedSlots:{customRender:"feeSlot"}}],h={data:function(){return{btnLoading:!1,skeletonIsShow:!0,skeletonReqNum:0,visible:!1,searchData:{date:r()().format("YYYY-MM-DD")},isPayType:!0,mainTips:{helloTitle:""},mainChart:{todayCount:{},yesterdayCount:{}},tableDate:"1",queryDate:"",tableColumns:p,chartPassage:null,productMchData:[],detailData:{mchInfo:{mchNo:"",mchName:"",balance:0,createdAt:"",secret:"",state:0,loginUsername:""}},isShowSecretModal:!1}},components:{JeepayTable:d["a"],JeepayTableColumns:u["a"],empty:l["default"]},methods:{init:function(){var t=this;Object(o["s"])().then((function(e){t.mainChart=e,t.skeletonClose(t)})).catch((function(e){t.skeletonClose(t)})),Object(o["r"])().then((function(e){t.detailData=e})).catch((function(t){}))},reqTableDataFunc:function(t){return o["z"].list(o["c"],t)},moment:r.a,skeletonClose:function(t){t.skeletonIsShow=!1},selectTab:function(){"1"===this.tableDate?this.searchData.date=r()().format("YYYY-MM-DD"):this.searchData.date=r()().subtract(1,"days").format("YYYY-MM-DD"),this.$refs.infoTable.refTable(!0)},handleView:function(){this.isShowSecretModal=!0},handleSecretOkFunc:function(){this.isShowSecretModal=!1}},computed:{},mounted:function(){"1"===this.tableDate?this.queryDate=r()().format("YYYY-MM-DD"):this.queryDate=r()().subtract(1,"days").format("YYYY-MM-DD"),this.init(),this.mainTips.helloTitle="".concat(Object(c["b"])(),"，")+this.$store.state.user.loginUsername,this.$refs.infoTable.refTable(!0)}},m=h,f=(a("6ee9"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"a0881c26",null);e["default"]=v.exports},44423:function(t,e,a){"use strict";a("aa30")},"5d5e":function(t,e,a){"use strict";a("d81d");var n,s,i={name:"JeepayTableColumns",render:function(t,e){var a=arguments[0],n=[];if(this.$slots.default.map((function(t){return t.tag&&n.push(t),!1})),n.length<=3)return t("div",{style:"display:flex; justify-content: space-evenly;"},n);for(var s=[n[0],n[1]],i=[],r=2;r<n.length;r++)i.push(a("a-menu-item",[n[r]]));return a("div",{style:"display:flex; justify-content: space-evenly;"},[" ",s,a("a-dropdown",[a("a-button",{style:"",attrs:{type:"link"},class:"ant-dropdown-link"},["更多",a("a-icon",{attrs:{type:"down"}})]),a("a-menu",{slot:"overlay"},[i])])])}},r=i,o=(a("44423"),a("2877")),c=Object(o["a"])(r,n,s,!1,null,"207fd926",null);e["a"]=c.exports},"6ee9":function(t,e,a){"use strict";a("1b3c")},8931:function(t,e,a){"use strict";a("de53")},"909f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"empty"},[n("img",{staticStyle:{width:"100px"},attrs:{src:a("28c1"),alt:""}}),n("p",{staticStyle:{"padding-right":"5px"}},[t._v("暂无数据")])])}],i={name:"Empty"},r=i,o=(a("8931"),a("2877")),c=Object(o["a"])(r,n,s,!1,null,"455687ae",null);e["default"]=c.exports},aa30:function(t,e,a){},ca00:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return i}));var n=1;function s(){var t=new Date,e=t.getHours();return e<9?"早上好":e<=11?"上午好":e<=13?"中午好":e<20?"下午好":"晚上好"}function i(){return(new Date).getTime()+"_"+n++}},de53:function(t,e,a){},f339:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{attrs:{columns:t.tableColumns,"data-source":t.apiResData.records,pagination:t.pagination,loading:t.showLoading,"row-selection":t.rowSelection,rowKey:t.rowKey,scroll:{x:t.scrollX},customRow:function(e,a){return t.tableRowCrossColor?{style:{"background-color":a%2==0?"#FCFCFC":"#FFFFFF"}}:{}}},on:{change:t.handleTableChange},scopedSlots:t._u([t._l(t.columnsCustomSlots,(function(e){return{key:e.customRender,fn:function(a){return[t._t(e.customRender,null,{record:a})]}}}))],null,!0)})],1)},s=[],i=a("5530"),r=(a("a9e3"),a("d81d"),a("4de4"),{name:"JeepayTable",props:{initData:{type:Boolean,default:!0},tableColumns:Array,reqTableDataFunc:{type:Function},currentChange:{type:Function,default:function(t,e){}},searchData:Object,pageSize:{type:Number,default:10},rowSelection:Object,rowKey:{type:[String,Function]},scrollX:{type:Number,default:800},tableRowCrossColor:{type:Boolean,default:!1}},data:function(){return{apiResData:{total:0,records:[]},iPage:{pageNumber:1,pageSize:this.pageSize},pagination:{total:0,current:1,pageSizeOptions:["10","20","50","100"],pageSize:this.pageSize,showSizeChanger:!0,showTotal:function(t){return"共".concat(t,"条")}},showLoading:!1}},computed:{columnsCustomSlots:function(){return this.tableColumns.filter((function(t){return t.scopedSlots})).map((function(t){return t.scopedSlots}))}},mounted:function(){this.initData&&this.refTable(!0)},methods:{handleTableChange:function(t,e,a){this.pagination=t,this.iPage=Object(i["a"])({pageSize:t.pageSize,pageNumber:t.current,sortField:a.columnKey,sortOrder:a.order},e),this.refTable()},refTable:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this;e&&(this.iPage.pageNumber=1,this.pagination.current=1),this.showLoading=!0,this.reqTableDataFunc(Object.assign({},this.iPage,this.searchData)).then((function(e){t.pagination.total=e.total,t.apiResData=e,t.showLoading=!1,0===e.records.length&&t.iPage.pageNumber>1&&a.$nextTick((function(){var n=e.total/t.iPage.pageSize+(e.total%t.iPage.pageSize===0?0:1);if(0===n)return!1;var s=t.iPage.pageNumber-1>n?n:t.iPage.pageNumber-1;t.iPage.pageNumber=s,t.pagination.current=s,a.refTable(!1)})),a.$emit("btnLoadClose")})).catch((function(e){t.showLoading=!1,a.$emit("btnLoadClose")}))}}}),o=r,c=(a("f705"),a("2877")),l=Object(c["a"])(o,n,s,!1,null,null,null);e["a"]=l.exports},f705:function(t,e,a){"use strict";a("27fc")}}]);