(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f91a819","chunk-a7426070"],{"0fea":function(e,t,a){"use strict";a.d(t,"B",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return i})),a.d(t,"i",(function(){return u})),a.d(t,"f",(function(){return s})),a.d(t,"m",(function(){return c})),a.d(t,"j",(function(){return l})),a.d(t,"n",(function(){return d})),a.d(t,"k",(function(){return f})),a.d(t,"o",(function(){return p})),a.d(t,"h",(function(){return h})),a.d(t,"g",(function(){return m})),a.d(t,"l",(function(){return g})),a.d(t,"c",(function(){return v})),a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return y})),a.d(t,"F",(function(){return T})),a.d(t,"r",(function(){return F})),a.d(t,"y",(function(){return I})),a.d(t,"z",(function(){return O})),a.d(t,"E",(function(){return D})),a.d(t,"D",(function(){return S})),a.d(t,"v",(function(){return w})),a.d(t,"w",(function(){return _})),a.d(t,"A",(function(){return C})),a.d(t,"s",(function(){return E})),a.d(t,"p",(function(){return k})),a.d(t,"u",(function(){return G})),a.d(t,"x",(function(){return x})),a.d(t,"C",(function(){return q})),a.d(t,"t",(function(){return N})),a.d(t,"q",(function(){return $}));a("2ca0"),a("ac1f"),a("5319");var n=a("4667"),r={list:function(e,t){return n["a"].request({url:e,method:"GET",params:t},!0,!0,!1)},add:function(e,t){return n["a"].request({url:e,method:"POST",data:t},!0,!0,!1)},getById:function(e,t){return n["a"].request({url:e+"/"+t,method:"GET"},!0,!0,!1)},updateById:function(e,t,a){return n["a"].request({url:e+"/"+t,method:"PUT",data:a},!0,!0,!1)},delById:function(e,t){return n["a"].request({url:e+"/"+t,method:"DELETE"},!0,!0,!1)}},o="/api/mchInfo",i="/api/passageInfo",u="/api/mchApps",s="/api/agentPassage",c="/api/payOrder",l="/api/passagePayOrder",d="/api/refundOrder",f="/api/payWays",p="/api/transferOrders",h="/api/divisionReceiverGroups",m="/api/divisionReceivers",g="/api/division/records",v="/api/agentHistory",b="/api/agentDayStat",y="/api/agentDivision",T={avatar:n["a"].baseUrl+"/api/ossFiles/avatar",cert:n["a"].baseUrl+"/api/ossFiles/cert"};function F(){return n["a"].request({url:"/api/agentInfo",method:"GET"})}function I(e){return n["a"].request({url:"api/paytest/payways/"+e,method:"GET"})}function O(e){return n["a"].request({url:"/api/paytest/payOrders",method:"POST",data:e})}function D(e){return n["a"].request({url:"/api/current/modifyPwd",method:"put",data:e})}function S(e){return n["a"].request({url:"/api/current/user",method:"put",data:e})}function w(){return n["a"].request({url:"/api/current/user",method:"get"})}function _(){var e=document.location.protocol+"//"+document.location.host;return e="http://agent-api.bainian-pay.com",e.startsWith("https:")?"wss://"+e.replace("https://",""):"ws://"+e.replace("http://","")}function C(e){return n["a"].request({url:"api/mchTransfers/ifCodes/"+e,method:"GET"})}function E(e,t,a){return n["a"].request({url:"/api/mchTransfers/channelUserId",method:"GET",params:{ifCode:e,appId:t,extParam:a}})}function k(e){return n["a"].request({url:"/api/mchTransfers/doTransfer",method:"POST",data:e},!0,!0,!0)}function G(e){return n["a"].request({url:"/api/mch/payConfigs/ifCodes/"+e,method:"GET"},!0,!0,!0)}function x(e,t,a){return n["a"].request({url:"/api/payOrder/refunds/"+e,method:"POST",data:{refundAmount:t,refundReason:a}})}function q(e){return n["a"].request({url:"/api/division/records/resend/"+e,method:"POST"})}function N(){return n["a"].request({url:"/api/current/getGoogleKey",method:"get"})}function $(e,t){return n["a"].request({url:e,method:"POST",data:t,responseType:"arraybuffer"},!0,!1,!0)}},"27fc":function(e,t,a){},"2c3f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("page-header-wrapper",[n("a-card",[t.$access("ENT_DIVISION_RECEIVER_GROUP_LIST")?n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{staticClass:"table-head-ground",attrs:{layout:"inline"}},[n("div",{staticClass:"table-layer"},[n("jeepay-text-up",{attrs:{placeholder:"组ID",msg:t.searchData.receiverGroupId},model:{value:t.searchData.receiverGroupId,callback:function(e){t.$set(t.searchData,"receiverGroupId",e)},expression:"searchData.receiverGroupId"}}),n("jeepay-text-up",{attrs:{placeholder:"组名称",msg:t.searchData.receiverGroupName},model:{value:t.searchData.receiverGroupName,callback:function(e){t.$set(t.searchData,"receiverGroupName",e)},expression:"searchData.receiverGroupName"}}),n("span",{staticClass:"table-page-search-submitButtons"},[n("a-button",{attrs:{type:"primary",icon:"search",loading:t.btnLoading},on:{click:t.searchFunc}},[t._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{icon:"reload"},on:{click:function(){return e.searchData={}}}},[t._v("重置")])],1)],1)]),n("div",[t.$access("ENT_DIVISION_RECEIVER_GROUP_ADD")?n("a-button",{staticClass:"mg-b-30",attrs:{type:"primary",icon:"plus"},on:{click:t.addFunc}},[t._v("新建")]):t._e()],1)],1):t._e(),n("JeepayTable",{ref:"infoTable",attrs:{initData:!0,reqTableDataFunc:t.reqTableDataFunc,tableColumns:t.tableColumns,searchData:t.searchData,rowKey:"receiverGroupId"},on:{btnLoadClose:function(e){t.btnLoading=!1}},scopedSlots:t._u([{key:"opSlot",fn:function(e){var a=e.record;return[n("JeepayTableColumns",[t.$access("ENT_DIVISION_RECEIVER_GROUP_EDIT")?n("a",{on:{click:function(e){return t.editFunc(a.receiverGroupId)}}},[t._v("修改")]):t._e(),t.$access("ENT_DIVISION_RECEIVER_GROUP_DELETE")?n("a",{staticStyle:{color:"red"},on:{click:function(e){return t.delFunc(a.receiverGroupId)}}},[t._v("删除")]):t._e()])]}}])})],1),n("InfoAddOrEdit",{ref:"infoAddOrEdit",attrs:{callbackFunc:t.searchFunc}})],1)},r=[],o=a("f339"),i=a("5d5e"),u=a("0fea"),s=a("7280"),c=a("4f53"),l=[{key:"receiverGroupId",dataIndex:"receiverGroupId",title:"组ID"},{key:"receiverGroupName",dataIndex:"receiverGroupName",title:"组名称"},{key:"autoDivisionFlag",dataIndex:"autoDivisionFlag",title:"自动分账组",customRender:function(e,t,a){return 1===e?"是":"否"}},{key:"createdBy",dataIndex:"createdBy",title:"创建人"},{key:"createdAt",dataIndex:"createdAt",title:"创建时间"},{key:"op",title:"操作",width:"200px",fixed:"right",align:"center",scopedSlots:{customRender:"opSlot"}}],d={name:"RolePage",components:{JeepayTable:o["a"],JeepayTableColumns:i["a"],InfoAddOrEdit:s["default"],JeepayTextUp:c["a"]},data:function(){return{tableColumns:l,searchData:{},btnLoading:!1}},mounted:function(){},methods:{reqTableDataFunc:function(e){return u["B"].list(u["h"],e)},searchFunc:function(){this.btnLoading=!0,this.$refs.infoTable.refTable(!0)},addFunc:function(){this.$refs.infoAddOrEdit.show()},editFunc:function(e){this.$refs.infoAddOrEdit.show(e)},delFunc:function(e){var t=this;this.$infoBox.confirmDanger("确认删除？","",(function(){return u["B"].delById(u["h"],e).then((function(e){t.$message.success("删除成功！"),t.$refs.infoTable.refTable(!1)}))}))}}},f=d,p=a("2877"),h=Object(p["a"])(f,n,r,!1,null,null,null);t["default"]=h.exports},44423:function(e,t,a){"use strict";a("aa30")},"4f53":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"jee-text-up"},[a("a-input",{attrs:{required:"required",value:e.msg},on:{input:function(t){return e.$emit("input",t.target.value)}}}),a("label",[e._v(e._s(e.placeholder))])],1)},r=[],o={name:"JeepayTextUp",props:{msg:{type:String},placeholder:{type:String}}},i=o,u=(a("a72a"),a("2877")),s=Object(u["a"])(i,n,r,!1,null,"4d207278",null);t["a"]=s.exports},"5d5e":function(e,t,a){"use strict";a("d81d");var n,r,o={name:"JeepayTableColumns",render:function(e,t){var a=arguments[0],n=[];if(this.$slots.default.map((function(e){return e.tag&&n.push(e),!1})),n.length<=3)return e("div",{style:"display:flex; justify-content: space-evenly;"},n);for(var r=[n[0],n[1]],o=[],i=2;i<n.length;i++)o.push(a("a-menu-item",[n[i]]));return a("div",{style:"display:flex; justify-content: space-evenly;"},[" ",r,a("a-dropdown",[a("a-button",{style:"",attrs:{type:"link"},class:"ant-dropdown-link"},["更多",a("a-icon",{attrs:{type:"down"}})]),a("a-menu",{slot:"overlay"},[o])])])}},i=o,u=(a("44423"),a("2877")),s=Object(u["a"])(i,n,r,!1,null,"207fd926",null);t["a"]=s.exports},7280:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.isAdd?"新增菜单":"修改菜单",confirmLoading:e.confirmLoading},on:{ok:e.handleOkFunc},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[a("a-form-model",{ref:"infoFormModel",attrs:{model:e.saveObject,"label-col":{span:6},"wrapper-col":{span:15},rules:e.rules}},[a("a-form-model-item",{attrs:{label:"组名称：",prop:"receiverGroupName"}},[a("a-input",{model:{value:e.saveObject.receiverGroupName,callback:function(t){e.$set(e.saveObject,"receiverGroupName",t)},expression:"saveObject.receiverGroupName"}})],1),a("a-form-model-item",{attrs:{label:"自动分账组",prop:"autoDivisionFlag"}},[a("a-radio-group",{model:{value:e.saveObject.autoDivisionFlag,callback:function(t){e.$set(e.saveObject,"autoDivisionFlag",t)},expression:"saveObject.autoDivisionFlag"}},[a("a-radio",{attrs:{value:1}},[e._v("是")]),e._v(" "),a("a-radio",{attrs:{value:0}},[e._v("否")])],1),a("hr"),a("p",{staticStyle:{color:"indianred"}},[e._v("1. 自动分账组: 当订单分账模式为自动分账，该组下的所有正常分账状态的账号将作为订单分账对象")]),a("p",{staticStyle:{color:"indianred"}},[e._v("2. 每个商户仅有一个默认分账组， 当该组更新为自动分账时，其他组将改为否")])],1)],1)],1)},r=[],o=a("0fea"),i={props:{callbackFunc:{type:Function}},data:function(){return{confirmLoading:!1,isAdd:!0,isShow:!1,saveObject:{autoDivisionFlag:0},recordId:null,rules:{receiverGroupName:[{required:!0,message:"请输入组名称",trigger:"blur"}]}}},created:function(){},methods:{show:function(e){this.isAdd=!e,this.saveObject={autoDivisionFlag:0},this.confirmLoading=!1,void 0!==this.$refs.infoFormModel&&this.$refs.infoFormModel.resetFields();var t=this;this.isAdd?t.isShow=!0:(t.recordId=e,o["B"].getById(o["h"],e).then((function(e){t.saveObject=e,t.isShow=!0})))},handleOkFunc:function(){var e=this;this.$refs.infoFormModel.validate((function(t){t&&(e.confirmLoading=!0,e.isShow=!1,e.isAdd?o["B"].add(o["h"],e.saveObject).then((function(t){e.$message.success("添加成功"),e.callbackFunc()})).catch((function(t){e.confirmLoading=!1})):o["B"].updateById(o["h"],e.recordId,e.saveObject).then((function(t){e.$message.success("修改成功"),e.callbackFunc()})).catch((function(t){e.confirmLoading=!1})))}))}}},u=i,s=a("2877"),c=Object(s["a"])(u,n,r,!1,null,null,null);t["default"]=c.exports},a72a:function(e,t,a){"use strict";a("de7e")},aa30:function(e,t,a){},de7e:function(e,t,a){},f339:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-table",{attrs:{columns:e.tableColumns,"data-source":e.apiResData.records,pagination:e.pagination,loading:e.showLoading,"row-selection":e.rowSelection,rowKey:e.rowKey,scroll:{x:e.scrollX},customRow:function(t,a){return e.tableRowCrossColor?{style:{"background-color":a%2==0?"#FCFCFC":"#FFFFFF"}}:{}}},on:{change:e.handleTableChange},scopedSlots:e._u([e._l(e.columnsCustomSlots,(function(t){return{key:t.customRender,fn:function(a){return[e._t(t.customRender,null,{record:a})]}}}))],null,!0)})],1)},r=[],o=a("5530"),i=(a("a9e3"),a("d81d"),a("4de4"),{name:"JeepayTable",props:{initData:{type:Boolean,default:!0},tableColumns:Array,reqTableDataFunc:{type:Function},currentChange:{type:Function,default:function(e,t){}},searchData:Object,pageSize:{type:Number,default:10},rowSelection:Object,rowKey:{type:[String,Function]},scrollX:{type:Number,default:800},tableRowCrossColor:{type:Boolean,default:!1}},data:function(){return{apiResData:{total:0,records:[]},iPage:{pageNumber:1,pageSize:this.pageSize},pagination:{total:0,current:1,pageSizeOptions:["10","20","50","100"],pageSize:this.pageSize,showSizeChanger:!0,showTotal:function(e){return"共".concat(e,"条")}},showLoading:!1}},computed:{columnsCustomSlots:function(){return this.tableColumns.filter((function(e){return e.scopedSlots})).map((function(e){return e.scopedSlots}))}},mounted:function(){this.initData&&this.refTable(!0)},methods:{handleTableChange:function(e,t,a){this.pagination=e,this.iPage=Object(o["a"])({pageSize:e.pageSize,pageNumber:e.current,sortField:a.columnKey,sortOrder:a.order},t),this.refTable()},refTable:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this;t&&(this.iPage.pageNumber=1,this.pagination.current=1),this.showLoading=!0,this.reqTableDataFunc(Object.assign({},this.iPage,this.searchData)).then((function(t){e.pagination.total=t.total,e.apiResData=t,e.showLoading=!1,0===t.records.length&&e.iPage.pageNumber>1&&a.$nextTick((function(){var n=t.total/e.iPage.pageSize+(t.total%e.iPage.pageSize===0?0:1);if(0===n)return!1;var r=e.iPage.pageNumber-1>n?n:e.iPage.pageNumber-1;e.iPage.pageNumber=r,e.pagination.current=r,a.refTable(!1)})),a.$emit("btnLoadClose")})).catch((function(t){e.showLoading=!1,a.$emit("btnLoadClose")}))}}}),u=i,s=(a("f705"),a("2877")),c=Object(s["a"])(u,n,r,!1,null,null,null);t["a"]=c.exports},f705:function(e,t,a){"use strict";a("27fc")}}]);