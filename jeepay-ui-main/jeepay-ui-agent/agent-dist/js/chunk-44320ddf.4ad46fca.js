(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44320ddf"],{"0e19":function(e,r,t){e.exports=t.p+"assets/code.b0f7b3e8.svg"},"2e91":function(e,r,t){e.exports=t.p+"assets/select-user.6fbae668.svg"},"3b189":function(e,r,t){e.exports=t.p+"assets/lock.e2f6c892.svg"},"4d66":function(e,r,t){e.exports=t.p+"assets/user.16dc72b2.svg"},"591b":function(e,r,t){e.exports=t.p+"assets/select-lock.436eb95a.svg"},"5ba5":function(e,r,t){},6045:function(e,r,t){e.exports=t.p+"assets/select-code.c039bae6.svg"},8233:function(e,r,t){"use strict";t("5ba5")},ac2a:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"main"},[o("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{form:e.form},on:{submit:e.handleSubmit}},[e.showLoginErrorInfo?o("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",showIcon:"",message:e.showLoginErrorInfo}}):e._e(),o("a-form-item",[o("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入帐户名"}],validateTrigger:"change"}],expression:"[\n          'username',\n          {rules: [{ required: true, message: '请输入帐户名' }], validateTrigger: 'change'}\n        ]"}],attrs:{size:"large",type:"text",placeholder:"请输入账户"},on:{focus:function(r){e.usernameIcon=t("2e91")},blur:function(r){e.usernameIcon=t("4d66")}}},[o("img",{staticClass:"user",attrs:{slot:"prefix",src:e.usernameIcon,alt:"user"},slot:"prefix"})])],1),o("a-form-item",[o("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"}],validateTrigger:"change"}],expression:"[\n          'password',\n          {rules: [{ required: true, message: '请输入密码' }], validateTrigger: 'change'}\n        ]"}],attrs:{size:"large",placeholder:"请输入密码"},on:{focus:function(r){e.passwordIcon=t("591b")},blur:function(r){e.passwordIcon=t("3b189")}}},[o("img",{staticClass:"user",attrs:{slot:"prefix",src:e.passwordIcon,alt:"user"},slot:"prefix"})])],1),o("div",{staticClass:"code"},[o("a-form-item",[o("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["usercode",{rules:[{required:!0,message:"请输入人机验证码"}],validateTrigger:"blur"}],expression:"[\n            'usercode',\n            {rules: [{ required: true, message: '请输入人机验证码' }], validateTrigger: 'blur'}\n          ]"}],staticClass:"code-input",attrs:{size:"large",type:"text",placeholder:"请输入人机验证码"},on:{focus:function(r){e.vercodeIcon=t("6045")},blur:function(r){e.vercodeIcon=t("0e19")}}},[o("img",{staticClass:"user",attrs:{slot:"prefix",src:e.vercodeIcon,alt:"user"},slot:"prefix"})])],1),o("div",{staticClass:"code-img",staticStyle:{position:"relative",background:"#ddd"}},[o("img",{directives:[{name:"show",rawName:"v-show",value:e.vercodeImgSrc,expression:"vercodeImgSrc"}],attrs:{src:e.vercodeImgSrc},on:{click:function(r){return e.refVercode()}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:e.isOverdue,expression:"isOverdue"}],staticClass:"vercode-mask",on:{click:function(r){return e.refVercode()}}},[e._v("已过期 请刷新")])])],1),o("a-form-item",[o("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["googleCode",{rules:[{required:!1,message:""}],validateTrigger:"change"}],expression:"[\n          'googleCode',\n          {rules: [{ required: false, message: '' }], validateTrigger: 'change'}\n        ]"}],attrs:{size:"large",type:"text",placeholder:"谷歌验证码(未绑定不需要填写)"}})],1),o("a-form-item",[o("a-checkbox",{model:{value:e.isAutoLogin,callback:function(r){e.isAutoLogin=r},expression:"isAutoLogin"}},[e._v("自动登录")])],1),o("a-form-item",{staticClass:"submit"},[o("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loginBtnLoadingFlag}},[e._v("登录 ")])],1)],1)],1)},s=[],a=t("5530"),n=t("2f62"),i=t("ca00"),c=t("7ded"),u={components:{},data:function(){return{isOverdue:!1,isAutoLogin:!0,loginBtnLoadingFlag:!1,showLoginErrorInfo:"",form:this.$form.createForm(this),usernameIcon:t("4d66"),passwordIcon:t("3b189"),vercodeIcon:t("0e19"),vercodeImgSrc:"",vercodeToken:""}},created:function(){},mounted:function(){this.refVercode()},methods:Object(a["a"])(Object(a["a"])({onChange:function(e){this.isAutoLogin=!this.isAutoLogin}},Object(n["b"])(["Login","Logout"])),{},{handleSubmit:function(e){var r=this;e.preventDefault();var t=this;t.form.validateFields({force:!0},(function(e,o){if(!e){var s=Object(a["a"])({},o);s.username=o.username,s.password=o.password,s.vercode=o.usercode,s.googleCode=o.googleCode,s.vercodeToken=t.vercodeToken,t.loginBtnLoadingFlag=!0,t.Login({loginParams:s,isSaveStorage:t.isAutoLogin}).then((function(e){return r.loginSuccess(e)})).catch((function(e){t.showLoginErrorInfo=e.msg||JSON.stringify(e),t.loginBtnLoadingFlag=!1}))}}))},loginSuccess:function(e){var r=this;this.$router.push({path:"/",query:{isAutoLogin:this.isAutoLogin}}),setTimeout((function(){r.$notification.success({message:"欢迎",description:"".concat(Object(i["b"])(),"，欢迎回来")})}),1e3),this.showLoginErrorInfo=""},refVercode:function(){var e=this,r=this;Object(c["e"])().then((function(t){r.vercodeImgSrc=t.imageBase64Data,r.vercodeToken=t.vercodeToken,e.isOverdue=!1,e.timer&&clearInterval(e.timer),e.timer=setInterval((function(){t.expireTime--,t.expireTime<=0&&(r.isOverdue=!0,clearInterval(e.timer))}),1e3)}))}})},d=u,l=(t("8233"),t("2877")),g=Object(l["a"])(d,o,s,!1,null,"3eb4c9d3",null);r["default"]=g.exports},ca00:function(e,r,t){"use strict";t.d(r,"b",(function(){return s})),t.d(r,"a",(function(){return a}));var o=1;function s(){var e=new Date,r=e.getHours();return r<9?"早上好":r<=11?"上午好":r<=13?"中午好":r<20?"下午好":"晚上好"}function a(){return(new Date).getTime()+"_"+o++}}}]);