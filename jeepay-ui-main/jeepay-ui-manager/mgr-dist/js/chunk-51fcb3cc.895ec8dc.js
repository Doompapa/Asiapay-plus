(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51fcb3cc"],{"0fea":function(t,r,e){"use strict";e.d(r,"cb",(function(){return n})),e.d(r,"db",(function(){return s})),e.d(r,"d",(function(){return i})),e.d(r,"K",(function(){return o})),e.d(r,"J",(function(){return u})),e.d(r,"N",(function(){return c})),e.d(r,"P",(function(){return d})),e.d(r,"h",(function(){return p})),e.d(r,"f",(function(){return l})),e.d(r,"g",(function(){return f})),e.d(r,"r",(function(){return m})),e.d(r,"o",(function(){return y})),e.d(r,"y",(function(){return h})),e.d(r,"C",(function(){return b})),e.d(r,"c",(function(){return g})),e.d(r,"v",(function(){return v})),e.d(r,"H",(function(){return I})),e.d(r,"u",(function(){return T})),e.d(r,"Q",(function(){return O})),e.d(r,"B",(function(){return P})),e.d(r,"q",(function(){return S})),e.d(r,"i",(function(){return _})),e.d(r,"l",(function(){return q})),e.d(r,"k",(function(){return w})),e.d(r,"j",(function(){return E})),e.d(r,"n",(function(){return U})),e.d(r,"m",(function(){return N})),e.d(r,"F",(function(){return x})),e.d(r,"E",(function(){return k})),e.d(r,"I",(function(){return A})),e.d(r,"s",(function(){return C})),e.d(r,"t",(function(){return R})),e.d(r,"M",(function(){return G})),e.d(r,"L",(function(){return B})),e.d(r,"e",(function(){return L})),e.d(r,"D",(function(){return F})),e.d(r,"p",(function(){return $})),e.d(r,"a",(function(){return J})),e.d(r,"O",(function(){return j})),e.d(r,"G",(function(){return M})),e.d(r,"x",(function(){return z})),e.d(r,"w",(function(){return H})),e.d(r,"z",(function(){return K})),e.d(r,"A",(function(){return W})),e.d(r,"b",(function(){return Q})),e.d(r,"hb",(function(){return V})),e.d(r,"U",(function(){return X})),e.d(r,"bb",(function(){return Y})),e.d(r,"eb",(function(){return Z})),e.d(r,"X",(function(){return tt})),e.d(r,"W",(function(){return rt})),e.d(r,"gb",(function(){return et})),e.d(r,"fb",(function(){return at})),e.d(r,"Y",(function(){return nt})),e.d(r,"V",(function(){return st})),e.d(r,"S",(function(){return it})),e.d(r,"T",(function(){return ot})),e.d(r,"Z",(function(){return ut})),e.d(r,"ab",(function(){return ct})),e.d(r,"R",(function(){return dt}));var a=e("4667"),n={list:function(t,r){return a["a"].request({url:t,method:"GET",params:r},!0,!0,!1)},add:function(t,r){return a["a"].request({url:t,method:"POST",data:r},!0,!0,!1)},getById:function(t,r){return a["a"].request({url:t+"/"+r,method:"GET"},!0,!0,!1)},updateById:function(t,r,e){return a["a"].request({url:t+"/"+r,method:"PUT",data:e},!0,!0,!1)},delById:function(t,r){return a["a"].request({url:t+"/"+r,method:"DELETE"},!0,!0,!1)},postNormal:function(t,r){return a["a"].request({url:t+"/"+r,method:"POST"},!0,!0,!0)},postDataNormal:function(t,r,e){return a["a"].request({url:t+"/"+r,method:"POST",data:e},!0,!0,!0)},getNormal:function(t,r){return a["a"].request({url:t+"/"+r,method:"GET"},!0,!0,!0)}},s={list:function(t,r){return a["a"].request({url:t,method:"GET",params:r},!0,!0,!0)},add:function(t,r){return a["a"].request({url:t,method:"POST",data:r},!0,!0,!0)},getById:function(t,r){return a["a"].request({url:t+"/"+r,method:"GET"},!0,!0,!0)},updateById:function(t,r,e){return a["a"].request({url:t+"/"+r,method:"PUT",data:e},!0,!0,!0)},delById:function(t,r){return a["a"].request({url:t+"/"+r,method:"DELETE"},!0,!0,!0)}},i="/api/sysEnts",o="/api/sysRoles",u="/api/sysRoleEntRelas",c="/api/sysUsers",d="/api/sysUserRoleRelas",p="/api/isvInfo",l="/api/isvBalance",f="/api/agentHistory",m="/api/mchInfo",y="/api/mchBalance",h="/api/mchStatInfo",b="/api/passageStatInfo",g="/api/agentStatInfo",v="/api/mchProductInfo",I="/api/productMchInfo",T="/api/mchPassageInfo",O="/api/payOrder",P="/api/passageMchInfo",S="/api/mchHistory",_="/api/mchApps",q="/api/mchAppsList",w="/api/passageHistory",E="/api/mchAppsBalance",U="/api/mchAppsBalanceReset",N="/api/mchAppsMultipleSet",x="/api/payOrder",k="/api/payOrderForceList",A="/api/refundOrder",C="/api/mchNotify",R="/api/mchNotifyResend/resendAll",G="api/sysLog",B="api/sysConfigs",D="api/mainChart",L="/api/payIfDefines",F="/api/payWays",$="/api/mchDivision",J="/api/agentDivision",j="/api/transferOrders",M="/api/platStat",z="/api/mchStat",H="/api/mchProductStat",K="/api/passageStat",W="/api/productStat",Q="/api/agentStat",V={avatar:a["a"].baseUrl+"/api/ossFiles/avatar",ifBG:a["a"].baseUrl+"/api/ossFiles/ifBG",cert:a["a"].baseUrl+"/api/ossFiles/cert"};function X(t){return a["a"].request({url:"/api/sysEnts/showTree?sysType="+t,method:"GET"})}function Y(t,r,e){return a["a"].request({url:"/api/payOrder/refunds/"+t,method:"POST",data:{refundAmount:r,refundReason:e}})}function Z(t,r){return a["a"].request({url:"api/sysUserRoleRelas/relas/"+t,method:"POST",data:{roleIdListStr:JSON.stringify(r)}})}function tt(){return a["a"].request({url:D+"/twoDayCount",method:"GET"})}function rt(){return a["a"].request({url:D+"/realTimeCount",method:"GET"})}function et(t){return a["a"].request({url:"/api/current/modifyPwd",method:"put",data:t})}function at(t){return a["a"].request({url:"/api/current/user",method:"put",data:t})}function nt(){return a["a"].request({url:"/api/current/user",method:"get"})}function st(){return a["a"].request({url:"/api/current/getGoogleKey",method:"get"})}function it(t){return a["a"].request({url:B+"/"+t,method:"GET"})}function ot(t,r){return a["a"].request({url:"/api/sysEnts/bySysType",method:"GET",params:{entId:t,sysType:r}})}function ut(t){return a["a"].request({url:"/api/mchNotify/resend/"+t,method:"POST"})}function ct(t){return a["a"].request({url:"/api/passageTest/doPay",method:"POST",data:t})}function dt(t,r){return a["a"].request({url:t,method:"POST",data:r,responseType:"arraybuffer"},!0,!1,!0)}},9813:function(t,r,e){"use strict";e.r(r);var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("a-drawer",{attrs:{visible:t.visible,title:"通道下单测试",width:"40%",maskClosable:!1},on:{close:t.onClose}},[e("a-row",{attrs:{justify:"space-between",type:"flex"}},[e("a-col",{attrs:{sm:12}},[e("a-descriptions",[e("a-descriptions-item",{attrs:{label:"通道ID"}},[e("b",{staticStyle:{color:"#1A79FF"}},[t._v(t._s(t.passage.payPassageId))])])],1)],1),e("a-col",{attrs:{sm:12}},[e("a-descriptions",[e("a-descriptions-item",{attrs:{label:"通道名称"}},[e("b",[t._v(t._s(t.passage.payPassageName))])])],1)],1),e("a-col",{attrs:{sm:24}},[e("a-descriptions",[e("a-descriptions-item",{attrs:{label:"所属产品"}},[e("a-tag",{attrs:{color:"purple"}},[t._v(" ["+t._s(t.passage.productId)+"] "+t._s(t.productName)+" ")])],1)],1)],1),e("a-col",{attrs:{sm:12}},[e("a-descriptions",[e("a-descriptions-item",{attrs:{label:"收款规则类型"}},[1==t.passage.payType?e("a-tag",{attrs:{color:"blue"}},[t._v("区间范围")]):t._e(),2==t.passage.payType?e("a-tag",{attrs:{color:"blue"}},[t._v("固定金额")]):t._e()],1)],1)],1),e("a-col",{attrs:{sm:12}},[e("a-descriptions",[e("a-descriptions-item",{attrs:{label:"收款规则"}},[e("b",{attrs:{color:"pink"}},[t._v("[ "+t._s(t.passage.payRules)+" ]")])])],1)],1),e("a-divider"),e("a-col",{attrs:{sm:24}},[e("a-descriptions",[e("a-descriptions-item",{attrs:{label:"三方通道用户标识"}},[e("b",[t._v(t._s(t.ifParams.mchNo))])])],1)],1),e("a-col",{attrs:{sm:24}},[e("a-descriptions",[e("a-descriptions-item",{attrs:{label:"下单网关"}},[e("span",[t._v(t._s(t.ifParams.payGateway))])])],1)],1),e("a-divider"),e("a-form-model",{ref:"infoFormModel",attrs:{layout:"vertical"}},[e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:24}},[e("a-form-model-item",{attrs:{label:"支付金额"}},[e("a-input",{attrs:{prefix:"￥",placeholder:"请输入",type:"number"},model:{value:t.payTestAmount,callback:function(r){t.payTestAmount=r},expression:"payTestAmount"}})],1)],1),e("a-col",{attrs:{span:24}},[e("a-form-model-item",{attrs:{label:"测试订单入库："}},[e("p",{staticStyle:{"font-size":"13px",color:"#8C8C8C"}},[t._v("[启用] 此选项自动挂到测试商户下，用于测试下单完整流程包含回调"),e("br"),t._v("[禁用] 不进入订单库，仅用于测试三方通道是否能正常拉起")]),e("a-radio-group",{model:{value:t.testOrderIn,callback:function(r){t.testOrderIn=r},expression:"testOrderIn"}},[e("a-radio",{attrs:{value:1}},[t._v(" 启用 ")]),e("a-radio",{attrs:{value:0}},[t._v(" 禁用 ")])],1)],1)],1),e("a-col",{attrs:{span:24}},[e("a-button",{attrs:{type:"primary",icon:"check"},on:{click:t.onSubmit}},[t._v("下单测试")])],1)],1)],1)],1),e("a-divider"),e("a-row",{attrs:{justify:"start",type:"flex"}},[e("a-col",{attrs:{sm:24}},[e("a-form-model-item",{attrs:{label:"测试商户订单号"}},[e("a-input",{staticStyle:{color:"black"},attrs:{type:"text",disabled:"disabled"},model:{value:t.testPayOrderId,callback:function(r){t.testPayOrderId=r},expression:"testPayOrderId"}}),t.isShowReturnUrl&&1===t.testOrderIn?e("a-button",{attrs:{type:"danger",icon:"double-right"},on:{click:t.goOrderList}},[t._v("去订单页查看")]):t._e()],1)],1)],1),e("a-row",{attrs:{justify:"start",type:"flex"}},[e("a-col",{attrs:{sm:24}},[e("a-form-model-item",{attrs:{label:"下单返回参数"}},[e("a-input",{staticStyle:{height:"100px",color:"black"},attrs:{type:"textarea",disabled:"disabled"},model:{value:t.respParams,callback:function(r){t.respParams=r},expression:"respParams"}})],1)],1)],1),t.isShowReturnUrl?e("a-row",{attrs:{justify:"start",type:"flex"}},[e("a-col",{attrs:{sm:24}},[e("a-form-model-item",{attrs:{label:"支付链接（点击直接跳转）"}},[e("a",{staticStyle:{"font-size":"18px"},attrs:{href:t.returnUrl,target:"_blank"}},[t._v(t._s(t.returnUrl))])])],1),e("a-col",{attrs:{sm:24}},[e("a-form-model-item",{attrs:{label:"手动跳转"}},[e("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.returnUrl,expression:"returnUrl",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticClass:"copy-btn",attrs:{type:"primary",size:"small"}},[t._v("一键复制链接")])],1)],1)],1):t._e()],1)},n=[],s=e("0fea"),i={props:{callbackFunc:{type:Function,default:function(){return function(){return{}}}}},data:function(){return{visible:!1,payTestAmount:0,productName:"",passage:{},ifParams:{},respParams:"",testPayOrderId:"",isShowReturnUrl:!1,returnUrl:"",testOrderIn:0}},methods:{show:function(t,r){this.passage=t,this.productName=r,void 0!==t.payInterfaceConfig&&(this.ifParams=JSON.parse(t.payInterfaceConfig)),this.visible=!0,this.payTestAmount=0,this.respParams="",this.testPayOrderId="",this.isShowReturnUrl=!1,this.returnUrl="",this.testOrderIn=0},onSubmit:function(){var t=this;if(""!==this.payTestAmount&&0!==this.payTestAmount){var r="T"+(new Date).getTime()+Math.floor(8999*Math.random()+1e3),e={},a=this;e.testOrderNo=r,e.passageId=this.passage.payPassageId,e.amount=this.payTestAmount,e.testOrderIn=this.testOrderIn,e.productId=this.passage.productId,a.$store.commit("showLoading"),Object(s["ab"])(e).then((function(e){a.$store.commit("hideLoading"),a.testPayOrderId=r,0===e.code?(t.$message.info("下单成功"),a.respParams=JSON.stringify(e),void 0!==e.data.payData&&null!==e.data.payData&&(a.returnUrl=e.data.payData,a.isShowReturnUrl=!0)):(a.respParams=JSON.stringify(e.msg),a.$message.error("拉起支付失败"))})).catch((function(r){t.$message.error("拉起支付失败"),a.respParams=JSON.stringify(r),a.$store.commit("hideLoading")}))}else this.$message.error("金额不能为空")},onClose:function(){this.visible=!1},onCopy:function(){this.$message.success("复制成功")},goOrderList:function(){this.$router.push({path:"/pay",query:{unionOrderId:this.testPayOrderId}}),this.visible=!1}}},o=i,u=e("2877"),c=Object(u["a"])(o,a,n,!1,null,"3b8e820a",null);r["default"]=c.exports}}]);