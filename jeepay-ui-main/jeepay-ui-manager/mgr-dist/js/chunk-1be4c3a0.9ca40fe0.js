(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1be4c3a0"],{"0fea":function(t,n,r){"use strict";r.d(n,"cb",(function(){return o})),r.d(n,"db",(function(){return a})),r.d(n,"d",(function(){return u})),r.d(n,"K",(function(){return i})),r.d(n,"J",(function(){return s})),r.d(n,"N",(function(){return c})),r.d(n,"P",(function(){return d})),r.d(n,"h",(function(){return f})),r.d(n,"f",(function(){return p})),r.d(n,"g",(function(){return l})),r.d(n,"r",(function(){return h})),r.d(n,"o",(function(){return m})),r.d(n,"y",(function(){return g})),r.d(n,"C",(function(){return b})),r.d(n,"c",(function(){return y})),r.d(n,"v",(function(){return T})),r.d(n,"H",(function(){return v})),r.d(n,"u",(function(){return S})),r.d(n,"Q",(function(){return q})),r.d(n,"B",(function(){return w})),r.d(n,"q",(function(){return E})),r.d(n,"i",(function(){return I})),r.d(n,"l",(function(){return L})),r.d(n,"k",(function(){return O})),r.d(n,"j",(function(){return C})),r.d(n,"n",(function(){return R})),r.d(n,"m",(function(){return B})),r.d(n,"F",(function(){return P})),r.d(n,"E",(function(){return U})),r.d(n,"I",(function(){return G})),r.d(n,"s",(function(){return k})),r.d(n,"t",(function(){return x})),r.d(n,"M",(function(){return D})),r.d(n,"L",(function(){return H})),r.d(n,"e",(function(){return $})),r.d(n,"D",(function(){return N})),r.d(n,"p",(function(){return F})),r.d(n,"a",(function(){return W})),r.d(n,"O",(function(){return j})),r.d(n,"G",(function(){return J})),r.d(n,"x",(function(){return M})),r.d(n,"w",(function(){return _})),r.d(n,"z",(function(){return K})),r.d(n,"A",(function(){return z})),r.d(n,"b",(function(){return Q})),r.d(n,"hb",(function(){return V})),r.d(n,"U",(function(){return X})),r.d(n,"bb",(function(){return Y})),r.d(n,"eb",(function(){return Z})),r.d(n,"X",(function(){return tt})),r.d(n,"W",(function(){return nt})),r.d(n,"gb",(function(){return rt})),r.d(n,"fb",(function(){return et})),r.d(n,"Y",(function(){return ot})),r.d(n,"V",(function(){return at})),r.d(n,"S",(function(){return ut})),r.d(n,"T",(function(){return it})),r.d(n,"Z",(function(){return st})),r.d(n,"ab",(function(){return ct})),r.d(n,"R",(function(){return dt}));var e=r("4667"),o={list:function(t,n){return e["a"].request({url:t,method:"GET",params:n},!0,!0,!1)},add:function(t,n){return e["a"].request({url:t,method:"POST",data:n},!0,!0,!1)},getById:function(t,n){return e["a"].request({url:t+"/"+n,method:"GET"},!0,!0,!1)},updateById:function(t,n,r){return e["a"].request({url:t+"/"+n,method:"PUT",data:r},!0,!0,!1)},delById:function(t,n){return e["a"].request({url:t+"/"+n,method:"DELETE"},!0,!0,!1)},postNormal:function(t,n){return e["a"].request({url:t+"/"+n,method:"POST"},!0,!0,!0)},postDataNormal:function(t,n,r){return e["a"].request({url:t+"/"+n,method:"POST",data:r},!0,!0,!0)},getNormal:function(t,n){return e["a"].request({url:t+"/"+n,method:"GET"},!0,!0,!0)}},a={list:function(t,n){return e["a"].request({url:t,method:"GET",params:n},!0,!0,!0)},add:function(t,n){return e["a"].request({url:t,method:"POST",data:n},!0,!0,!0)},getById:function(t,n){return e["a"].request({url:t+"/"+n,method:"GET"},!0,!0,!0)},updateById:function(t,n,r){return e["a"].request({url:t+"/"+n,method:"PUT",data:r},!0,!0,!0)},delById:function(t,n){return e["a"].request({url:t+"/"+n,method:"DELETE"},!0,!0,!0)}},u="/api/sysEnts",i="/api/sysRoles",s="/api/sysRoleEntRelas",c="/api/sysUsers",d="/api/sysUserRoleRelas",f="/api/isvInfo",p="/api/isvBalance",l="/api/agentHistory",h="/api/mchInfo",m="/api/mchBalance",g="/api/mchStatInfo",b="/api/passageStatInfo",y="/api/agentStatInfo",T="/api/mchProductInfo",v="/api/productMchInfo",S="/api/mchPassageInfo",q="/api/payOrder",w="/api/passageMchInfo",E="/api/mchHistory",I="/api/mchApps",L="/api/mchAppsList",O="/api/passageHistory",C="/api/mchAppsBalance",R="/api/mchAppsBalanceReset",B="/api/mchAppsMultipleSet",P="/api/payOrder",U="/api/payOrderForceList",G="/api/refundOrder",k="/api/mchNotify",x="/api/mchNotifyResend/resendAll",D="api/sysLog",H="api/sysConfigs",A="api/mainChart",$="/api/payIfDefines",N="/api/payWays",F="/api/mchDivision",W="/api/agentDivision",j="/api/transferOrders",J="/api/platStat",M="/api/mchStat",_="/api/mchProductStat",K="/api/passageStat",z="/api/productStat",Q="/api/agentStat",V={avatar:e["a"].baseUrl+"/api/ossFiles/avatar",ifBG:e["a"].baseUrl+"/api/ossFiles/ifBG",cert:e["a"].baseUrl+"/api/ossFiles/cert"};function X(t){return e["a"].request({url:"/api/sysEnts/showTree?sysType="+t,method:"GET"})}function Y(t,n,r){return e["a"].request({url:"/api/payOrder/refunds/"+t,method:"POST",data:{refundAmount:n,refundReason:r}})}function Z(t,n){return e["a"].request({url:"api/sysUserRoleRelas/relas/"+t,method:"POST",data:{roleIdListStr:JSON.stringify(n)}})}function tt(){return e["a"].request({url:A+"/twoDayCount",method:"GET"})}function nt(){return e["a"].request({url:A+"/realTimeCount",method:"GET"})}function rt(t){return e["a"].request({url:"/api/current/modifyPwd",method:"put",data:t})}function et(t){return e["a"].request({url:"/api/current/user",method:"put",data:t})}function ot(){return e["a"].request({url:"/api/current/user",method:"get"})}function at(){return e["a"].request({url:"/api/current/getGoogleKey",method:"get"})}function ut(t){return e["a"].request({url:H+"/"+t,method:"GET"})}function it(t,n){return e["a"].request({url:"/api/sysEnts/bySysType",method:"GET",params:{entId:t,sysType:n}})}function st(t){return e["a"].request({url:"/api/mchNotify/resend/"+t,method:"POST"})}function ct(t){return e["a"].request({url:"/api/passageTest/doPay",method:"POST",data:t})}function dt(t,n){return e["a"].request({url:t,method:"POST",data:n,responseType:"arraybuffer"},!0,!1,!0)}},"6c40":function(t,n,r){},a363:function(t,n,r){"use strict";r("6c40")},b3ab:function(t,n,r){"use strict";r.r(n);var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("a-modal",{attrs:{title:"修改头像",visible:t.visible,maskClosable:!1,confirmLoading:t.confirmLoading,width:800,footer:null},on:{cancel:t.cancelHandel}},[r("a-row",[r("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[r("vue-cropper",{ref:"cropper",attrs:{img:t.options.img,info:!0,autoCrop:t.options.autoCrop,autoCropWidth:t.options.autoCropWidth,autoCropHeight:t.options.autoCropHeight,fixedBox:t.options.fixedBox},on:{realTime:t.realTime}})],1),r("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[r("div",{staticClass:"avatar-upload-preview"},[r("img",{style:t.previews.img,attrs:{src:t.previews.url}})])])],1),r("br"),r("a-row",[r("a-col",{attrs:{lg:2,md:2}},[r("a-upload",{attrs:{name:"file",beforeUpload:t.beforeUpload,showUploadList:!1}},[r("a-button",{attrs:{icon:"upload"}},[t._v("选择图片")])],1)],1),r("a-col",{attrs:{lg:{span:1,offset:2},md:2}},[r("a-button",{attrs:{icon:"plus"},on:{click:function(n){return t.changeScale(1)}}})],1),r("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[r("a-button",{attrs:{icon:"minus"},on:{click:function(n){return t.changeScale(-1)}}})],1),r("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[r("a-button",{attrs:{icon:"undo"},on:{click:t.rotateLeft}})],1),r("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[r("a-button",{attrs:{icon:"redo"},on:{click:t.rotateRight}})],1),r("a-col",{attrs:{lg:{span:2,offset:6},md:2}},[r("a-button",{attrs:{type:"primary"},on:{click:function(n){return t.finish("blob")}}},[t._v("保存")])],1)],1)],1)},o=[],a=(r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("0fea")),u=r("4360"),i={data:function(){return{recordId:u["a"].state.user.userId,userLoad:a["hb"].icon,visible:!1,id:null,confirmLoading:!1,fileList:[],uploading:!1,options:{img:"",autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{edit:function(t){this.visible=!0,this.id=t},close:function(){this.id=null,this.visible=!1},cancelHandel:function(){this.close()},changeScale:function(t){t=t||1,this.$refs.cropper.changeScale(t)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},beforeUpload:function(t){var n=this,r=new FileReader;return r.readAsDataURL(t),r.onload=function(){n.options.img=r.result},!1},finish:function(t){var n=this;console.log("finish");var r=this,e=new FormData;"blob"===t?this.$refs.cropper.getCropBlob((function(t){var o=window.URL.createObjectURL(t);n.model=!0,n.modelSrc=o,e.append("avatarUrl",o),Object(a["fb"])(e).then((function(t){console.log("upload response:",t),r.$message.success("上传成功"),r.$emit("ok",t.url),r.visible=!1})).catch((function(t){console.log(t)})),console.log(r.userLoad,r.recordId,n.modelSrc)})):this.$refs.cropper.getCropData((function(t){n.model=!0,n.modelSrc=t}))},okHandel:function(){var t=this;t.confirmLoading=!0,setTimeout((function(){t.confirmLoading=!1,t.close(),t.$message.success("上传头像成功")}),2e3)},realTime:function(t){this.previews=t}}},s=i,c=(r("a363"),r("2877")),d=Object(c["a"])(s,e,o,!1,null,"7ecffbc3",null);n["default"]=d.exports}}]);